<div class="table-responsive small p-1 bg-white h-100 pt-5">
  <a type="button" class="btn btn-primary" [routerLink]="['/admin',  { outlets: { 'content': ['admin-product-add'] } }]" >Aggiungi prodotto</a>
  <table class="table table-striped pt-3">
    <thead>
      <tr>
        <th scope="col">Id Prodotto</th>
        <th scope="col"><div class="d-flex flex-row align-items-center">
          Nome <form class="d-flex w-50" role="search" (ngSubmit)="search($event)">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" [(ngModel)]="searchParam" name="searchParam">
            <button class="btn btn-success" type="submit">Search</button>
          </form>
        </div></th>
        <th scope="col">Quantità</th>
        <th scope="col">Prezzo</th>
      </tr>
    </thead>
    <tbody>
        <tr *ngFor="let p of product">
          <td><a [routerLink]="['/admin',  { outlets: { 'content': ['admin-product-edit',p.productID] } }] ">{{p.productID}}</a></td>
          <td><a>{{p.name}}</a></td>
          <td>{{p.quantity}}</td>
          <td>€{{p.price}}</td>
        </tr>
    </tbody>
  </table>
  <div class="d-flex justify-content-center flex-row flex-wrap w-100">
    <nav class="w-100 mt-5 d-flex justify-content-center" aria-label="...">
      <ul class="pagination " *ngIf="totalPages==2">
        <div class="d-flex flex-row" *ngIf="pagina==0">
          <li class="page-item disabled">
            <span class="page-link">Precedente</span>
          </li>
          <li class="page-item active"><a class="page-link">{{pagina+1}}</a></li>
          <li class="page-item" >
            <a class="page-link" (click)="pagina=pagina+1;reloadParams();scrollToTop()">{{pagina+2}}</a>
          </li>
          <li class="page-item">
            <a class="page-link" (click)="pagina=pagina+1;reloadParams();scrollToTop()">Successiva</a>
          </li>
        </div>
        <div class="d-flex flex-row" *ngIf="pagina==totalPages-1">
          <li class="page-item ">
            <a class="page-link" (click)="pagina=pagina-1;reloadParams();scrollToTop()">Precedente</a>
          </li>
          <li class="page-item" aria-current="page">
            <a class="page-link"  (click)="pagina=pagina-1;reloadParams();scrollToTop()">{{pagina}}</a>
          </li>
          <li class="page-item active"><a class="page-link">{{pagina+1}}</a></li>
          <li class="page-item disabled">
            <a class="page-link" >Successiva</a>
          </li>
        </div>
      </ul>
      <ul class="pagination" *ngIf="totalPages>=3">
        <div class="d-flex flex-row" *ngIf="pagina==0">
          <li class="page-item disabled">
            <a class="page-link">Precedente</a>
          </li>
          <li class="page-item active"><a class="page-link">{{pagina+1}}</a></li>
          <li class="page-item" >
            <a class="page-link" (click)="pagina=pagina+1;reloadParams();scrollToTop()">{{pagina+2}}</a>
          </li>
          <li class="page-item"><a class="page-link" routerLink="{{endpoint}}{{pagina+2}}" (click)="pagina=pagina+2;reloadParams();scrollToTop()">{{pagina+3}}</a></li>
          <li class="page-item">
            <a class="page-link" (click)="pagina=pagina+1;reloadParams();scrollToTop()">Successiva</a>
          </li>
        </div>
        <div class="d-flex flex-row" *ngIf="pagina>0 && pagina<totalPages-1">
          <li class="page-item">
            <a class="page-link" (click)="pagina=pagina-1;reloadParams();scrollToTop()">Precedente</a>
          </li>
          <li class="page-item"><a class="page-link"  (click)="pagina=pagina-1;reloadParams();scrollToTop()">{{pagina}}</a></li>
          <li class="page-item active" aria-current="page">
            <span class="page-link">{{pagina+1}}</span>
          </li>
          <li class="page-item"><a class="page-link"  (click)="pagina=pagina+1;reloadParams();scrollToTop()">{{pagina+2}}</a></li>
          <li class="page-item">
            <a class="page-link"  (click)="pagina=pagina+1;reloadParams();scrollToTop()">Successiva</a>
          </li>
        </div>
        <div class="d-flex flex-row" *ngIf="pagina==totalPages-1">
          <li class="page-item ">
            <a class="page-link" (click)="pagina=pagina-1;reloadParams();scrollToTop()">Precedente</a>
          </li>
          <li class="page-item "><a class="page-link" (click)="pagina=pagina-2;reloadParams(); scrollToTop()">{{pagina-1}}</a></li>
          <li class="page-item" aria-current="page">
            <a class="page-link"  (click)="pagina=pagina-1;reloadParams();scrollToTop()">{{pagina}}</a>
          </li>
          <li class="page-item active"><a class="page-link">{{pagina+1}}</a></li>
          <li class="page-item disabled">
            <a class="page-link" >Successiva</a>
          </li>
        </div>
      </ul>
    </nav>
  </div>


</div>
